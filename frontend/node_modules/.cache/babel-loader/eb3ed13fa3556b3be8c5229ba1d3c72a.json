{"ast":null,"code":"var _jsxFileName = \"/Users/jonathantan/Development/try/stocker-ttp/frontend/src/components/purchase.js\";\nimport React, { useState } from \"react\";\nimport { Form, Input, Grid } from \"semantic-ui-react\";\nimport { connect } from \"react-redux\";\n\nfunction PurchaseForm(props) {\n  const [transactionInfo, setTransactionInfo] = useState({\n    ticker: \"\",\n    quantity: \"\"\n  });\n  let id = props.userId; // on submit fetch and find/set the id of the current user to redux\n\n  let url = `http://localhost:3000/api/v1/transactions`;\n\n  let submitHandler = (e, id) => {\n    debugger;\n    e.preventDefault();\n    fetch(`${url}`, {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({ ...transactionInfo,\n        user_id: props.userId\n      })\n    }).then(resp => resp.json()).then(data => {\n      if (data.errors) {\n        console.log(\"working\");\n      } else {\n        console.log(\"success\"); // this.props.login(parseInt(data.data.id));\n      }\n    });\n  };\n\n  return React.createElement(\"div\", {\n    className: \"login-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"login-form\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(Form, {\n    onSubmit: submitHandler,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(Form.Field, {\n    id: \"ticker\",\n    control: Input,\n    onChange: e => setTransactionInfo({ ...transactionInfo,\n      ticker: e.target.value\n    }),\n    placeholder: \"Ticker\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }), React.createElement(Form.Field, {\n    id: \"password\",\n    control: Input,\n    onChange: e => setTransactionInfo({ ...transactionInfo,\n      quantity: e.target.value\n    }),\n    placeholder: \"QTY\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }), React.createElement(Grid, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(Grid.Row, {\n    centered: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, React.createElement(Form.Button, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, \"Buy\"))))));\n} // function mapDispatchToProps(dispatch) {\n//   return {\n//     login: id => {\n//       dispatch({ type: \"LOGIN\", payload: id });\n//     }\n//   };\n// }\n\n\nfunction mapStateToProps(state) {\n  return {\n    user_id: state.userId\n  };\n}\n\nexport default connect(mapStateToProps)(PurchaseForm); // export default connect(mapStateToProps, mapDispatchToProps)(Login);","map":{"version":3,"sources":["/Users/jonathantan/Development/try/stocker-ttp/frontend/src/components/purchase.js"],"names":["React","useState","Form","Input","Grid","connect","PurchaseForm","props","transactionInfo","setTransactionInfo","ticker","quantity","id","userId","url","submitHandler","e","preventDefault","fetch","method","headers","Accept","body","JSON","stringify","user_id","then","resp","json","data","errors","console","log","target","value","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, {useState } from \"react\";\nimport { Form, Input, Grid } from \"semantic-ui-react\";\nimport { connect } from \"react-redux\";\n\n\nfunction PurchaseForm(props) {\n  const [transactionInfo, setTransactionInfo] = useState({\n    ticker: \"\",\n    quantity: \"\", \n  });\n\n  let id = props.userId\n\n\n  // on submit fetch and find/set the id of the current user to redux\n\n    let url = `http://localhost:3000/api/v1/transactions`\n\n      let submitHandler = (e, id) => {\n        debugger\n        e.preventDefault();\n        \n        fetch(`${url}`, {\n          method: \"POST\",\n          headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify(\n           {...transactionInfo, user_id: props.userId}\n          )\n        })\n          .then(resp => resp.json())\n          .then(data => {\n            if (data.errors) {\n             console.log(\"working\");\n            } else {\n              console.log(\"success\")\n              // this.props.login(parseInt(data.data.id));\n            }\n          });\n      };\n\n  return (\n    <div className=\"login-container\">\n      <div className=\"login-form\">\n        <Form onSubmit={submitHandler}>\n          <Form.Field\n            id=\"ticker\"\n            control={Input}\n            onChange={e =>\n              setTransactionInfo({ ...transactionInfo, ticker: e.target.value })\n            }\n            placeholder=\"Ticker\"\n          />\n          <Form.Field\n            id=\"password\"\n            control={Input}\n            onChange={e =>\n              setTransactionInfo({\n                ...transactionInfo,\n                quantity: e.target.value\n              })\n            }\n            placeholder=\"QTY\"\n          />\n\n          <Grid>\n            <Grid.Row centered>\n              <Form.Button>Buy</Form.Button>\n            </Grid.Row>\n          </Grid>\n        </Form>\n      </div>\n    </div>\n  );\n}\n\n// function mapDispatchToProps(dispatch) {\n//   return {\n//     login: id => {\n//       dispatch({ type: \"LOGIN\", payload: id });\n//     }\n//   };\n// }\n\nfunction mapStateToProps(state) {\n  return {\n    user_id: state.userId\n  };\n}\nexport default connect(mapStateToProps) (PurchaseForm);\n// export default connect(mapStateToProps, mapDispatchToProps)(Login);\n"]},"metadata":{},"sourceType":"module"}